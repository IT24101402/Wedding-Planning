<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>User & Vendor Overview</title>
    <link rel="stylesheet" href="admin-overview.css">
</head>
<body>
<div class="container">
    <h1>User & Vendor Overview</h1>
    <div class="section">
        <h2>Users</h2>
        <table>
            <thead>
            <tr>
                <th>Username</th>
                <th>Email</th>
                <th>Registered Date</th>
            </tr>
            </thead>
            <tbody id="userTableBody">
            <!-- Populated by JS -->
            </tbody>
        </table>
    </div>
    <div class="section">
        <h2>Vendors</h2>
        <table>
            <thead>
            <tr>
                <th>Vendor Name</th>
                <th>Service Type</th>
                <th>Contact</th>
            </tr>
            </thead>
            <tbody id="vendorTableBody">
            <!-- Populated by JS -->
            </tbody>
        </table>
    </div>
</div>

<script>
    // Fetch users
    fetch("http://localhost:8080/admin/users")
        .then(res => res.json())
        .then(data => {
            const table = document.getElementById('userTableBody');
            data.forEach(user => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${user.username}</td>
                    <td>${user.email}</td>
                    <td>${user.registeredDate}</td>
                `;
                table.appendChild(row);
            });
        });

    // Fetch vendors
    fetch("http://localhost:8080/admin/vendors")
        .then(res => res.json())
        .then(data => {
            const table = document.getElementById('vendorTableBody');
            data.forEach(vendor => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${vendor.name}</td>
                    <td>${vendor.serviceType}</td>
                    <td>${vendor.contact}</td>
                `;
                table.appendChild(row);
            });
        });
</script>
</body>
</html>
